import{a as Rs,W as E,D as q,w as Pe,s as pr,b as en}from"./debug-build.CbdEl_Xo.js";import{D as g,i as m,q as Z,G as O,r as $,s as H,S as he,t as nt,u as mr,T as gr,v as ws,x as ks,d as Me,y as ue,z as v,A as $t,B as mt,C as De,E as Fe,F as M,H as Q,I as k,J as As,K as ke,L as G,M as Ns,N as Cs,O as Ee,P as tn,k as I,Q as En,j as w,R as ze,U as Tn,V as Ps,W as hr,X as de,Y as nn,w as rn,Z as _r,_ as Sr,$ as Ls,a0 as Xe,a1 as gt,a2 as Er,a3 as Os,a4 as Tr,a5 as ht,a6 as rt,a7 as xs,a8 as _t,m as Ms,a9 as Je,aa as yn,ab as Le,ac as bn,ad as le,ae as Ds,af as yr,ag as Fs,ah as Hs,ai as br,aj as st,ak as vr,al as $s,am as Ut,an as Us,ao as sn,ap as vn,aq as Bs,ar as qs,as as Ws,at as js,au as Gs,a as Ir,av as oe,aw as K,ax as at,ay as Ys,az as F,aA as In,aB as Rn,aC as Rr,aD as wr,aE as Vs,o as kr,c as it,aF as Ar,aG as wn,aH as zs,e as kn,aI as an,f as ot,aJ as Xs,aK as Js,aL as U,aM as V,aN as Nr,aO as Ae,aP as Ks,aQ as _e,aR as An,aS as Nn,aT as Cn,aU as Cr,g as St,aV as Zs,aW as Qs,aX as ea,aY as ta,aZ as Pn,p as wt,l as Ln}from"./logger.BoW92lqO.js";(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"7f587daaa12957af3a9439f51c5d6fbb4d7b3f42"}})();try{(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e02aa6d1-619a-4ce4-8bcd-9b1cf73b938d",e._sentryDebugIdIdentifier="sentry-dbid-e02aa6d1-619a-4ce4-8bcd-9b1cf73b938d")})()}catch{}const Ke={},On={};function ne(e,t){Ke[e]=Ke[e]||[],Ke[e].push(t)}function re(e,t){if(!On[e]){On[e]=!0;try{t()}catch(n){g&&m.error(`Error while instrumenting ${e}`,n)}}}function B(e,t){const n=e&&Ke[e];if(n)for(const r of n)try{r(t)}catch(s){g&&m.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Z(r)}
Error:`,s)}}let kt=null;function Pr(e){const t="error";ne(t,e),re(t,na)}function na(){kt=O.onerror,O.onerror=function(e,t,n,r,s){return B("error",{column:r,error:s,line:n,msg:e,url:t}),kt?kt.apply(this,arguments):!1},O.onerror.__SENTRY_INSTRUMENTED__=!0}let At=null;function Lr(e){const t="unhandledrejection";ne(t,e),re(t,ra)}function ra(){At=O.onunhandledrejection,O.onunhandledrejection=function(e){return B("unhandledrejection",e),At?At.apply(this,arguments):!0},O.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}let xn=!1;function sa(){if(xn)return;function e(){const t=$(),n=t&&H(t);if(n){const r="internal_error";g&&m.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:he,message:r})}}e.tag="sentry_tracingErrorCallback",xn=!0,Pr(e),Lr(e)}class ee{constructor(t={}){this._traceId=t.traceId||nt(),this._spanId=t.spanId||mr()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:gr}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function Te(e,t=[]){return[e,t]}function aa(e,t){const[n,r]=e;return[n,[...r,t]]}function Mn(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function Bt(e){const t=ks(O);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function ia(e){const[t,n]=e;let r=JSON.stringify(t);function s(a){typeof r=="string"?r=typeof a=="string"?r+a:[Bt(r),a]:r.push(typeof a=="string"?Bt(a):a)}for(const a of n){const[i,o]=a;if(s(`
${JSON.stringify(i)}
`),typeof o=="string"||o instanceof Uint8Array)s(o);else{let c;try{c=JSON.stringify(o)}catch{c=JSON.stringify(ws(o))}s(c)}}return typeof r=="string"?r:oa(r)}function oa(e){const t=e.reduce((s,a)=>s+a.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function ca(e){return[{type:"span"},e]}function ua(e){const t=typeof e.data=="string"?Bt(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const da={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Dn(e){return da[e]}function Or(e){if(!e?.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function la(e,t,n,r){const s=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Me(r)},...s&&{trace:s}}}function fa(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function pa(e,t,n,r){const s=Or(n),a={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:Me(t)}},i="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Te(a,[i])}function ma(e,t,n,r){const s=Or(n),a=e.type&&e.type!=="replay_event"?e.type:"event";fa(e,n?.sdk);const i=la(e,s,r,t);return delete e.sdkProcessingMetadata,Te(i,[[{type:a},e]])}function ga(e,t){function n(d){return!!d.trace_id&&!!d.public_key}const r=ue(e[0]),s=t?.getDsn(),a=t?.getOptions().tunnel,i={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!a&&s&&{dsn:Me(s)}},o=t?.getOptions().beforeSendSpan,c=o?d=>{const l=v(d),f=o(l);return f||($t(),l)}:v,u=[];for(const d of e){const l=c(d);l&&u.push(ca(l))}return Te(i,u)}function ha(e){if(!g)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=v(e),{spanId:s}=e.spanContext(),a=mt(e),i=H(e),o=i===e,c=`[Tracing] Starting ${a?"sampled":"unsampled"} ${o?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${s}`];if(r&&u.push(`parent ID: ${r}`),!o){const{op:d,description:l}=v(i);u.push(`root ID: ${i.spanContext().spanId}`),d&&u.push(`root op: ${d}`),l&&u.push(`root description: ${l}`)}m.log(`${c}
  ${u.join(`
  `)}`)}function _a(e){if(!g)return;const{description:t="< unknown name >",op:n="< unknown op >"}=v(e),{spanId:r}=e.spanContext(),a=H(e)===e,i=`[Tracing] Finishing "${n}" ${a?"root ":""}span "${t}" with ID ${r}`;m.log(i)}function Sa(e,t,n,r=$()){const s=r&&H(r);s&&(g&&m.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),s.addEvent(e,{[Fe]:t,[De]:n}))}function Fn(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},s=r[De],a=r[Fe];typeof s=="string"&&typeof a=="number"&&(t[n.name]={value:a,unit:s})}),t}const Hn=1e3;class Et{constructor(t={}){this._traceId=t.traceId||nt(),this._spanId=t.spanId||mr(),this._startTime=t.startTimestamp||M(),this._links=t.links,this._attributes={},this.setAttributes({[k]:"manual",[Q]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?As:gr}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=ke(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(G,"custom"),this}end(t){this._endTime||(this._endTime=ke(t),_a(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Q],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Cs(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[k],profile_id:this._attributes[tn],exclusive_time:this._attributes[Ee],measurements:Fn(this._events),is_segment:this._isStandaloneSpan&&H(this)===this||void 0,segment_id:this._isStandaloneSpan?H(this).spanContext().spanId:void 0,links:Ns(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){g&&m.log("[Tracing] Adding an event to span:",t);const s=$n(n)?n:r||M(),a=$n(n)?{}:n||{},i={name:t,time:ke(s),attributes:a};return this._events.push(i),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=I();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===H(this)))return;if(this._isStandaloneSpan){this._sampled?Ta(ga([this],t)):(g&&m.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(En(this).scope||w()).captureEvent(r)}_convertSpanToTransaction(){if(!Un(v(this)))return;this._name||(g&&m.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=En(this),r=t?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;const a=ze(this).filter(d=>d!==this&&!Ea(d)).map(d=>v(d)).filter(Un),i=this._attributes[G];delete this._attributes[Tn],a.forEach(d=>{delete d.data[Tn]});const o={contexts:{trace:Ps(this)},spans:a.length>Hn?a.sort((d,l)=>d.start_timestamp-l.start_timestamp).slice(0,Hn):a,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:ue(this)},request:r,...i&&{transaction_info:{source:i}}},c=Fn(this._events);return c&&Object.keys(c).length&&(g&&m.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),o.measurements=c),o}}function $n(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Un(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Ea(e){return e instanceof Et&&e.isStandaloneSpan()}function Ta(e){const t=I();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function ya(e,t,n=()=>{}){let r;try{r=e()}catch(s){throw t(s),n(),s}return ba(r,t,n)}function ba(e,t,n){return hr(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function va(e,t,n){if(!de(e))return[!1];let r,s;typeof e.tracesSampler=="function"?(s=e.tracesSampler({...t,inheritOrSampleWith:o=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):o}),r=!0):t.parentSampled!==void 0?s=t.parentSampled:typeof e.tracesSampleRate<"u"&&(s=e.tracesSampleRate,r=!0);const a=nn(s);if(a===void 0)return g&&m.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(s)} of type ${JSON.stringify(typeof s)}.`),[!1];if(!a)return g&&m.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,a,r];const i=n<a;return i||g&&m.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[i,a,r]}const xr="__SENTRY_SUPPRESS_TRACING__";function Ia(e,t){const n=cn();if(n.startSpan)return n.startSpan(e,t);const r=Dr(e),{forceTransaction:s,parentSpan:a,scope:i}=e,o=i?.clone();return rn(o,()=>wa(a)(()=>{const u=w(),d=Fr(u,a),f=e.onlyIfParent&&!d?new ee:Mr({parentSpan:d,spanArguments:r,forceTransaction:s,scope:u});return ht(u,f),ya(()=>t(f),()=>{const{status:p}=v(f);f.isRecording()&&(!p||p==="ok")&&f.setStatus({code:he,message:"internal_error"})},()=>{f.end()})}))}function ye(e){const t=cn();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=Dr(e),{forceTransaction:r,parentSpan:s}=e;return(e.scope?i=>rn(e.scope,i):s!==void 0?i=>on(s,i):i=>i())(()=>{const i=w(),o=Fr(i,s);return e.onlyIfParent&&!o?new ee:Mr({parentSpan:o,spanArguments:n,forceTransaction:r,scope:i})})}function on(e,t){const n=cn();return n.withActiveSpan?n.withActiveSpan(e,t):rn(r=>(ht(r,e||void 0),t(r)))}function Mr({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!de()){const i=new ee;if(n||!e){const o={sampled:"false",sample_rate:"0",transaction:t.name,...ue(i)};Xe(i,o)}return i}const s=gt();let a;if(e&&!n)a=Ra(e,r,t),Er(e,a);else if(e){const i=ue(e),{traceId:o,spanId:c}=e.spanContext(),u=mt(e);a=Bn({traceId:o,parentSpanId:c,...t},r,u),Xe(a,i)}else{const{traceId:i,dsc:o,parentSpanId:c,sampled:u}={...s.getPropagationContext(),...r.getPropagationContext()};a=Bn({traceId:i,parentSpanId:c,...t},r,u),o&&Xe(a,o)}return ha(a),Os(a,r,s),a}function Dr(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=ke(e.startTime),delete r.startTime,r}return n}function cn(){const e=_r();return Sr(e)}function Bn(e,t,n){const r=I(),s=r?.getOptions()||{},{name:a=""}=e,i={spanAttributes:{...e.attributes},spanName:a,parentSampled:n};r?.emit("beforeSampling",i,{decision:!1});const o=i.parentSampled??n,c=i.spanAttributes,u=t.getPropagationContext(),[d,l,f]=t.getScopeData().sdkProcessingMetadata[xr]?[!1]:va(s,{name:a,parentSampled:o,attributes:c,parentSampleRate:nn(u.dsc?.sample_rate)},u.sampleRand),p=new Et({...e,attributes:{[G]:"custom",[Tr]:l!==void 0&&f?l:void 0,...c},sampled:d});return!d&&r&&(g&&m.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",p),p}function Ra(e,t,n){const{spanId:r,traceId:s}=e.spanContext(),a=t.getScopeData().sdkProcessingMetadata[xr]?!1:mt(e),i=a?new Et({...n,parentSpanId:r,traceId:s,sampled:a}):new ee({traceId:s});Er(e,i);const o=I();return o&&(o.emit("spanStart",i),n.endTimestamp&&o.emit("spanEnd",i)),i}function Fr(e,t){if(t)return t;if(t===null)return;const n=Ls(e);if(!n)return;const r=I();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?H(n):n}function wa(e){return e!==void 0?t=>on(e,t):t=>t()}const Ze={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},ka="heartbeatFailed",Aa="idleTimeout",Na="finalTimeout",Ca="externalFinish";function Hr(e,t={}){const n=new Map;let r=!1,s,a=Ca,i=!t.disableAutoFinish;const o=[],{idleTimeout:c=Ze.idleTimeout,finalTimeout:u=Ze.finalTimeout,childSpanTimeout:d=Ze.childSpanTimeout,beforeSpanEnd:l}=t,f=I();if(!f||!de()){const T=new ee,P={sample_rate:"0",sampled:"false",...ue(T)};return Xe(T,P),T}const p=w(),S=$(),_=Pa(e);_.end=new Proxy(_.end,{apply(T,P,pe){if(l&&l(_),P instanceof ee)return;const[Ie,...me]=pe,ae=Ie||M(),A=ke(ae),ie=ze(_).filter(C=>C!==_);if(!ie.length)return qe(A),Reflect.apply(T,P,[A,...me]);const z=ie.map(C=>v(C).timestamp).filter(C=>!!C),b=z.length?Math.max(...z):void 0,N=v(_).start_timestamp,y=Math.min(N?N+u/1e3:1/0,Math.max(N||-1/0,Math.min(A,b||1/0)));return qe(y),Reflect.apply(T,P,[y,...me])}});function D(){s&&(clearTimeout(s),s=void 0)}function Y(T){D(),s=setTimeout(()=>{!r&&n.size===0&&i&&(a=Aa,_.end(T))},c)}function se(T){s=setTimeout(()=>{!r&&i&&(a=ka,_.end(T))},d)}function It(T){D(),n.set(T,!0);const P=M();se(P+d/1e3)}function Rt(T){if(n.has(T)&&n.delete(T),n.size===0){const P=M();Y(P+c/1e3)}}function qe(T){r=!0,n.clear(),o.forEach(A=>A()),ht(p,S);const P=v(_),{start_timestamp:pe}=P;if(!pe)return;P.data[rt]||_.setAttribute(rt,a),m.log(`[Tracing] Idle span "${P.op}" finished`);const me=ze(_).filter(A=>A!==_);let ae=0;me.forEach(A=>{A.isRecording()&&(A.setStatus({code:he,message:"cancelled"}),A.end(T),g&&m.log("[Tracing] Cancelling span since span ended early",JSON.stringify(A,void 0,2)));const ie=v(A),{timestamp:z=0,start_timestamp:b=0}=ie,N=b<=T,y=(u+c)/1e3,C=z-b<=y;if(g){const L=JSON.stringify(A,void 0,2);N?C||m.log("[Tracing] Discarding span since it finished after idle span final timeout",L):m.log("[Tracing] Discarding span since it happened after idle span was finished",L)}(!C||!N)&&(xs(_,A),ae++)}),ae>0&&_.setAttribute("sentry.idle_span_discarded_spans",ae)}return o.push(f.on("spanStart",T=>{if(r||T===_||v(T).timestamp||T instanceof Et&&T.isStandaloneSpan())return;ze(_).includes(T)&&It(T.spanContext().spanId)})),o.push(f.on("spanEnd",T=>{r||Rt(T.spanContext().spanId)})),o.push(f.on("idleSpanEnableAutoFinish",T=>{T===_&&(i=!0,Y(),n.size&&se())})),t.disableAutoFinish||Y(),setTimeout(()=>{r||(_.setStatus({code:he,message:"deadline_exceeded"}),a=Na,_.end())},u),_}function Pa(e){const t=ye(e);return ht(w(),t),g&&m.log("[Tracing] Started span is an idle span"),t}const qn=[];function La(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function Oa(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const s=n(t);r=Array.isArray(s)?s:[s]}else r=t;return La(r)}function xa(e,t){const n={};return t.forEach(r=>{r&&$r(e,r,n)}),n}function Wn(e,t){for(const n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function $r(e,t,n){if(n[t.name]){g&&m.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,qn.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),qn.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,a)=>r(s,a,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((a,i)=>r(a,i,e),{id:t.name});e.addEventProcessor(s)}g&&m.log(`Integration installed: ${t.name}`)}function Ma(e,t,n){const r=[{type:"client_report"},{timestamp:_t(),discarded_events:e}];return Te(t?{dsn:t}:{},[r])}function Ur(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function Da(e){const{trace_id:t,parent_span_id:n,span_id:r,status:s,origin:a,data:i,op:o}=e.contexts?.trace??{};return{data:i??{},description:e.transaction,op:o,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:s,timestamp:e.timestamp,trace_id:t??"",origin:a,profile_id:i?.[tn],exclusive_time:i?.[Ee],measurements:e.measurements,is_segment:!0}}function Fa(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[tn]:e.profile_id},...e.exclusive_time&&{[Ee]:e.exclusive_time}}}},measurements:e.measurements}}const jn="Not capturing exception because it's already been captured.",Gn="Discarded session because of missing or non-string release",Br=Symbol.for("SentryInternalError"),qr=Symbol.for("SentryDoNotSendEventError");function Qe(e){return{message:e,[Br]:!0}}function Nt(e){return{message:e,[qr]:!0}}function Yn(e){return!!e&&typeof e=="object"&&Br in e}function Vn(e){return!!e&&typeof e=="object"&&qr in e}class Ha{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Ms(t.dsn):g&&m.warn("No DSN provided, client will not send events."),this._dsn){const n=Rs(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){const s=Je();if(yn(t))return g&&m.log(jn),s;const a={event_id:s,...n};return this._process(this.eventFromException(t,a).then(i=>this._captureEvent(i,a,r))),a.event_id}captureMessage(t,n,r,s){const a={event_id:Je(),...r},i=vr(t)?t:String(t),o=Le(t)?this.eventFromMessage(i,n,a):this.eventFromException(t,a);return this._process(o.then(c=>this._captureEvent(c,a,s))),a.event_id}captureEvent(t,n,r){const s=Je();if(n?.originalException&&yn(n.originalException))return g&&m.log(jn),s;const a={event_id:s,...n},i=t.sdkProcessingMetadata||{},o=i.capturedSpanScope,c=i.capturedSpanIsolationScope;return this._process(this._captureEvent(t,a,o||r,c)),a.event_id}captureSession(t){this.sendSession(t),bn(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):le(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];$r(this,t,this._integrations),n||Wn(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=ma(t,this._dsn,this._options._metadata,this._options.tunnel);for(const a of n.attachments||[])r=aa(r,ua(a));const s=this.sendEnvelope(r);s&&s.then(a=>this.emit("afterSendEvent",t,a),null)}sendSession(t){const{release:n,environment:r=Ds}=this._options;if("aggregates"in t){const a=t.attrs||{};if(!a.release&&!n){g&&m.warn(Gn);return}a.release=a.release||n,a.environment=a.environment||r,t.attrs=a}else{if(!t.release&&!n){g&&m.warn(Gn);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const s=pa(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(s)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const s=`${t}:${n}`;g&&m.log(`Recording outcome: "${s}"${r>1?` (${r} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(g&&m.error("Error while sending envelope:",n),n)):(g&&m.error("Transport disabled"),le({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=xa(this,t),Wn(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",s=!1;const a=n.exception?.values;if(a){s=!0;for(const c of a)if(c.mechanism?.handled===!1){r=!0;break}}const i=t.status==="ok";(i&&t.errors===0||i&&r)&&(bn(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new yr(n=>{let r=0;const s=1,a=setInterval(()=>{this._numProcessing==0?(clearInterval(a),n(!0)):(r+=s,t&&r>=t&&(clearInterval(a),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,s){const a=this.getOptions(),i=Object.keys(this._integrations);return!n.integrations&&i?.length&&(n.integrations=i),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),Fs(a,t,n,r,this,s).then(o=>{if(o===null)return o;this.emit("postprocessEvent",o,n),o.contexts={trace:Hs(r),...o.contexts};const c=br(this,r);return o.sdkProcessingMetadata={dynamicSamplingContext:c,...o.sdkProcessingMetadata},o})}_captureEvent(t,n={},r=w(),s=gt()){return g&&qt(t)&&m.log(`Captured error event \`${Ur(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,s).then(a=>a.event_id,a=>{g&&(Vn(a)?m.log(a.message):Yn(a)?m.warn(a.message):m.warn(a))})}_processEvent(t,n,r,s){const a=this.getOptions(),{sampleRate:i}=a,o=Wr(t),c=qt(t),u=t.type||"error",d=`before send for type \`${u}\``,l=typeof i>"u"?void 0:nn(i);if(c&&typeof l=="number"&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error"),st(Nt(`Discarding event because it's not included in the random sample (sampling rate = ${i})`));const f=u==="replay_event"?"replay":u;return this._prepareEvent(t,n,r,s).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",f),Nt("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return p;const _=Ua(this,a,p,n);return $a(_,d)}).then(p=>{if(p===null){if(this.recordDroppedEvent("before_send",f),o){const Y=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",Y)}throw Nt(`${d} returned \`null\`, will not send event.`)}const S=r.getSession()||s.getSession();if(c&&S&&this._updateSessionFromEvent(S,p),o){const D=p.sdkProcessingMetadata?.spanCountBeforeProcessing||0,Y=p.spans?p.spans.length:0,se=D-Y;se>0&&this.recordDroppedEvent("before_send","span",se)}const _=p.transaction_info;if(o&&_&&p.transaction!==t.transaction){const D="custom";p.transaction_info={..._,source:D}}return this.sendEvent(p,n),p}).then(null,p=>{throw Vn(p)||Yn(p)?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),Qe(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,a]=n.split(":");return{reason:s,category:a,quantity:r}})}_flushOutcomes(){g&&m.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){g&&m.log("No outcomes to send");return}if(!this._dsn){g&&m.log("No dsn provided, will not send outcomes");return}g&&m.log("Sending outcomes:",t);const n=Ma(t,this._options.tunnel&&Me(this._dsn));this.sendEnvelope(n)}}function $a(e,t){const n=`${t} must return \`null\` or a valid event.`;if(hr(e))return e.then(r=>{if(!Ut(r)&&r!==null)throw Qe(n);return r},r=>{throw Qe(`${t} rejected with ${r}`)});if(!Ut(e)&&e!==null)throw Qe(n);return e}function Ua(e,t,n,r){const{beforeSend:s,beforeSendTransaction:a,beforeSendSpan:i}=t;let o=n;if(qt(o)&&s)return s(o,r);if(Wr(o)){if(i){const c=i(Da(o));if(c?o=$s(n,Fa(c)):$t(),o.spans){const u=[];for(const d of o.spans){const l=i(d);l?u.push(l):($t(),u.push(d))}o.spans=u}}if(a){if(o.spans){const c=o.spans.length;o.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return a(o,r)}}return o}function qt(e){return e.type===void 0}function Wr(e){return e.type==="transaction"}function Ba(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function qa(e,t,n,r){const s={};return t?.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(s.dsn=Me(r)),Te(s,[Ba(e)])}function Ct(e,t){const n=Wa(e)??[];if(n.length===0)return;const r=e.getOptions(),s=qa(n,r._metadata,r.tunnel,e.getDsn());jr().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(s)}function Wa(e){return jr().get(e)}function jr(){return Us("clientToLogBufferMap",()=>new WeakMap)}function ja(e,t){t.debug===!0&&(g?m.enable():sn(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),w().update(t.initialScope);const r=new e(t);return Ga(r),r.init(),r}function Ga(e){w().setClient(e)}const Gr=Symbol.for("SentryBufferFullError");function Ya(e){const t=[];function n(){return e===void 0||t.length<e}function r(i){return t.splice(t.indexOf(i),1)[0]||Promise.resolve(void 0)}function s(i){if(!n())return st(Gr);const o=i();return t.indexOf(o)===-1&&t.push(o),o.then(()=>r(o)).then(null,()=>r(o).then(null,()=>{})),o}function a(i){return new yr((o,c)=>{let u=t.length;if(!u)return o(!0);const d=setTimeout(()=>{i&&i>0&&o(!1)},i);t.forEach(l=>{le(l).then(()=>{--u||(clearTimeout(d),o(!0))},c)})})}return{$:t,add:s,drain:a}}const Va=60*1e3;function za(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?Va:r-t}function Xa(e,t){return e[t]||e.all||0}function Ja(e,t,n=Date.now()){return Xa(e,t)>n}function Ka(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},a=n?.["x-sentry-rate-limits"],i=n?.["retry-after"];if(a)for(const o of a.trim().split(",")){const[c,u,,,d]=o.split(":",5),l=parseInt(c,10),f=(isNaN(l)?60:l)*1e3;if(!u)s.all=r+f;else for(const p of u.split(";"))p==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(s[p]=r+f):s[p]=r+f}else i?s.all=r+za(i,r):t===429&&(s.all=r+60*1e3);return s}const Za=64;function Qa(e,t,n=Ya(e.bufferSize||Za)){let r={};const s=i=>n.drain(i);function a(i){const o=[];if(Mn(i,(l,f)=>{const p=Dn(f);Ja(r,p)?e.recordDroppedEvent("ratelimit_backoff",p):o.push(l)}),o.length===0)return le({});const c=Te(i[0],o),u=l=>{Mn(c,(f,p)=>{e.recordDroppedEvent(l,Dn(p))})},d=()=>t({body:ia(c)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&g&&m.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=Ka(r,l),l),l=>{throw u("network_error"),g&&m.error("Encountered error running transport request:",l),l});return n.add(d).then(l=>l,l=>{if(l===Gr)return g&&m.error("Skipped sending event because buffer is full."),u("queue_overflow"),le({});throw l})}return{send:a,flush:s}}function ei(e){e.user?.ip_address===void 0&&(e.user={...e.user,ip_address:"{{auto}}"})}function ti(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function Yr(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(a=>({name:`${r}:@sentry/${a}`,version:vn})),version:vn}),e._metadata=s}function Vr(e={}){const t=e.client||I();if(!Bs()||!t)return{};const n=_r(),r=Sr(n);if(r.getTraceData)return r.getTraceData(e);const s=e.scope||w(),a=e.span||$(),i=a?qs(a):ni(s),o=a?ue(a):br(t,s),c=Ws(o);return js.test(i)?{"sentry-trace":i,baggage:c}:(m.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function ni(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return Gs(t,r,n)}const ri=100;function fe(e,t){const n=I(),r=gt();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:a=ri}=n.getOptions();if(a<=0)return;const o={timestamp:_t(),...e},c=s?sn(()=>s(o,t)):o;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,a))}let zn;const si="FunctionToString",Xn=new WeakMap,ai=()=>({name:si,setupOnce(){zn=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Ir(this),n=Xn.has(I())&&t!==void 0?t:this;return zn.apply(n,e)}}catch{}},setup(e){Xn.set(e,!0)}}),ii=ai,oi=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],ci="EventFilters",ui=(e={})=>{let t;return{name:ci,setup(n){const r=n.getOptions();t=Jn(e,r)},processEvent(n,r,s){if(!t){const a=s.getOptions();t=Jn(e,a)}return li(n,t)?null:n}}},di=(e={})=>({...ui(e),name:"InboundFilters"});function Jn(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:oi],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function li(e,t){if(e.type){if(e.type==="transaction"&&pi(e,t.ignoreTransactions))return g&&m.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${oe(e)}`),!0}else{if(fi(e,t.ignoreErrors))return g&&m.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${oe(e)}`),!0;if(_i(e))return g&&m.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${oe(e)}`),!0;if(mi(e,t.denyUrls))return g&&m.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${oe(e)}.
Url: ${ct(e)}`),!0;if(!gi(e,t.allowUrls))return g&&m.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${oe(e)}.
Url: ${ct(e)}`),!0}return!1}function fi(e,t){return t?.length?Ur(e).some(n=>K(n,t)):!1}function pi(e,t){if(!t?.length)return!1;const n=e.transaction;return n?K(n,t):!1}function mi(e,t){if(!t?.length)return!1;const n=ct(e);return n?K(n,t):!1}function gi(e,t){if(!t?.length)return!0;const n=ct(e);return n?K(n,t):!0}function hi(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function ct(e){try{const n=[...e.exception?.values??[]].reverse().find(r=>r.mechanism?.parent_id===void 0&&r.stacktrace?.frames?.length)?.stacktrace?.frames;return n?hi(n):null}catch{return g&&m.error(`Cannot extract url for event ${oe(e)}`),null}}function _i(e){return e.exception?.values?.length?!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value):!1}function Si(e,t,n,r,s,a){if(!s.exception?.values||!a||!at(a.originalException,Error))return;const i=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;i&&(s.exception.values=Wt(e,t,r,a.originalException,n,s.exception.values,i,0))}function Wt(e,t,n,r,s,a,i,o){if(a.length>=n+1)return a;let c=[...a];if(at(r[s],Error)){Kn(i,o);const u=e(t,r[s]),d=c.length;Zn(u,s,d,o),c=Wt(e,t,n,r[s],s,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(at(u,Error)){Kn(i,o);const l=e(t,u),f=c.length;Zn(l,`errors[${d}]`,f,o),c=Wt(e,t,n,u,s,[l,...c],l,f)}}),c}function Kn(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Zn(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Ei(e){const t="console";ne(t,e),re(t,Ti)}function Ti(){"console"in O&&Ys.forEach(function(e){e in O.console&&F(O.console,e,function(t){return In[e]=t,function(...n){B("console",{args:n,level:e}),In[e]?.apply(O.console,n)}})})}function yi(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const bi="Dedupe",vi=()=>{let e;return{name:bi,processEvent(t){if(t.type)return t;try{if(Ri(t,e))return g&&m.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},Ii=vi;function Ri(e,t){return t?!!(wi(e,t)||ki(e,t)):!1}function wi(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Xr(e,t)||!zr(e,t))}function ki(e,t){const n=Qn(t),r=Qn(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Xr(e,t)||!zr(e,t))}function zr(e,t){let n=Rn(e),r=Rn(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const a=r[s],i=n[s];if(a.filename!==i.filename||a.lineno!==i.lineno||a.colno!==i.colno||a.function!==i.function)return!1}return!0}function Xr(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Qn(e){return e.exception?.values?.[0]}const Ai="thismessage:/";function Jr(e){return"isRelative"in e}function Kr(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=n?Ai:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;const s=new URL(e,r);return n?{isRelative:n,pathname:s.pathname,search:s.search,hash:s.hash}:s}catch{}}function Ni(e){if(Jr(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function ce(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Ci(e){return e.split(/[?#]/,1)[0]}function Pi(e,t,n,r,s="auto.http.browser"){if(!e.fetchData)return;const{method:a,url:i}=e.fetchData,o=de()&&t(i);if(e.endTimestamp&&o){const l=e.fetchData.__span;if(!l)return;const f=r[l];f&&(Oi(f,e),delete r[l]);return}const c=!!$(),u=o&&c?ye(Mi(i,a,s)):new ee;if(e.fetchData.__span=u.spanContext().spanId,r[u.spanContext().spanId]=u,n(e.fetchData.url)){const l=e.args[0],f=e.args[1]||{},p=Li(l,f,de()&&c?u:void 0);p&&(e.args[1]=f,f.headers=p)}const d=I();if(d){const l={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};d.emit("beforeOutgoingRequestSpan",u,l)}return u}function Li(e,t,n){const r=Vr({span:n}),s=r["sentry-trace"],a=r.baggage;if(!s)return;const i=t.headers||(wr(e)?e.headers:void 0);if(i)if(xi(i)){const o=new Headers(i);if(o.get("sentry-trace")||o.set("sentry-trace",s),a){const c=o.get("baggage");c?We(c)||o.set("baggage",`${c},${a}`):o.set("baggage",a)}return o}else if(Array.isArray(i)){const o=[...i];i.find(u=>u[0]==="sentry-trace")||o.push(["sentry-trace",s]);const c=i.find(u=>u[0]==="baggage"&&We(u[1]));return a&&!c&&o.push(["baggage",a]),o}else{const o="sentry-trace"in i?i["sentry-trace"]:void 0,c="baggage"in i?i.baggage:void 0,u=c?Array.isArray(c)?[...c]:[c]:[],d=c&&(Array.isArray(c)?c.find(l=>We(l)):We(c));return a&&!d&&u.push(a),{...i,"sentry-trace":o??s,baggage:u.length>0?u.join(","):void 0}}else return{...r}}function Oi(e,t){if(t.response){Rr(e,t.response.status);const n=t.response?.headers?.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:he,message:"internal_error"});e.end()}function We(e){return e.split(",").some(t=>t.trim().startsWith(Vs))}function xi(e){return typeof Headers<"u"&&at(e,Headers)}function Mi(e,t,n){const r=Kr(e);return{name:r?`${t} ${Ni(r)}`:t,attributes:Di(e,r,t,n)}}function Di(e,t,n,r){const s={url:e,type:"fetch","http.method":n,[k]:r,[Q]:"http.client"};return t&&(Jr(t)||(s["http.url"]=t.href,s["server.address"]=t.host),t.search&&(s["http.query"]=t.search),t.hash&&(s["http.fragment"]=t.hash)),s}function Zr(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const Oe=O;function Fi(){return"history"in Oe&&!!Oe.history}function Hi(){if(!("fetch"in Oe))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function jt(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function $i(){if(typeof EdgeRuntime=="string")return!0;if(!Hi())return!1;if(jt(Oe.fetch))return!0;let e=!1;const t=Oe.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=jt(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){g&&m.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function Qr(e,t){const n="fetch";ne(n,e),re(n,()=>es(void 0,t))}function Ui(e){const t="fetch-body-resolved";ne(t,e),re(t,()=>es(qi))}function es(e,t=!1){t&&!$i()||F(O,"fetch",function(n){return function(...r){const s=new Error,{method:a,url:i}=Wi(r),o={args:r,fetchData:{method:a,url:i},startTimestamp:M()*1e3,virtualError:s,headers:ji(r)};return e||B("fetch",{...o}),n.apply(O,r).then(async c=>(e?e(c):B("fetch",{...o,endTimestamp:M()*1e3,response:c}),c),c=>{if(B("fetch",{...o,endTimestamp:M()*1e3,error:c}),kr(c)&&c.stack===void 0&&(c.stack=s.stack,it(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{const u=new URL(o.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}async function Bi(e,t){if(e?.body){const n=e.body,r=n.getReader(),s=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let a=!0;for(;a;){let i;try{i=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:o}=await r.read();clearTimeout(i),o&&(t(),a=!1)}catch{a=!1}finally{clearTimeout(i)}}clearTimeout(s),r.releaseLock(),n.cancel().then(null,()=>{})}}function qi(e){let t;try{t=e.clone()}catch{return}Bi(t,()=>{B("fetch-body-resolved",{endTimestamp:M()*1e3,response:e})})}function Gt(e,t){return!!e&&typeof e=="object"&&!!e[t]}function er(e){return typeof e=="string"?e:e?Gt(e,"url")?e.url:e.toString?e.toString():"":""}function Wi(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:er(n),method:Gt(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:er(t),method:Gt(t,"method")?String(t.method).toUpperCase():"GET"}}function ji(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(wr(t))return new Headers(t.headers)}catch{}}function Gi(){return"npm"}function un(e,t){const n=dn(e,t),r={type:Ji(t),value:Ki(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Yi(e,t,n,r){const a=I()?.getOptions().normalizeDepth,i=no(t),o={__serialized__:Xs(t,a)};if(i)return{exception:{values:[un(e,i)]},extra:o};const c={exception:{values:[{type:an(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:eo(t,{isUnhandledRejection:r})}]},extra:o};if(n){const u=dn(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function Pt(e,t){return{exception:{values:[un(e,t)]}}}function dn(e,t){const n=t.stacktrace||t.stack||"",r=zi(t),s=Xi(t);try{return e(n,r,s)}catch{}return[]}const Vi=/Minified React error #\d+;/i;function zi(e){return e&&Vi.test(e.message)?1:0}function Xi(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function ts(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function Ji(e){const t=e?.name;return!t&&ts(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function Ki(e){const t=e?.message;return ts(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function Zi(e,t,n,r){const s=n?.syntheticException||void 0,a=ln(e,t,s,r);return ot(a),a.level="error",n?.event_id&&(a.event_id=n.event_id),le(a)}function Qi(e,t,n="info",r,s){const a=r?.syntheticException||void 0,i=Yt(e,t,a,s);return i.level=n,r?.event_id&&(i.event_id=r.event_id),le(i)}function ln(e,t,n,r,s){let a;if(Ar(t)&&t.error)return Pt(e,t.error);if(wn(t)||zs(t)){const i=t;if("stack"in t)a=Pt(e,t);else{const o=i.name||(wn(i)?"DOMError":"DOMException"),c=i.message?`${o}: ${i.message}`:o;a=Yt(e,c,n,r),kn(a,c)}return"code"in i&&(a.tags={...a.tags,"DOMException.code":`${i.code}`}),a}return kr(t)?Pt(e,t):Ut(t)||an(t)?(a=Yi(e,t,n,s),ot(a,{synthetic:!0}),a):(a=Yt(e,t,n,r),kn(a,`${t}`),ot(a,{synthetic:!0}),a)}function Yt(e,t,n,r){const s={};if(r&&n){const a=dn(e,n);a.length&&(s.exception={values:[{value:t,stacktrace:{frames:a}}]}),ot(s,{synthetic:!0})}if(vr(t)){const{__sentry_template_string__:a,__sentry_template_values__:i}=t;return s.logentry={message:a,params:i},s}return s.message=t,s}function eo(e,{isUnhandledRejection:t}){const n=Js(e),r=t?"promise rejection":"exception";return Ar(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:an(e)?`Event \`${to(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function to(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function no(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}const ro=5e3;class so extends Ha{constructor(t){const n=ao(t),r=E.SENTRY_SDK_SOURCE||Gi();Yr(n,"browser",["browser"],r),super(n);const{sendDefaultPii:s,sendClientReports:a,enableLogs:i}=this._options;E.document&&(a||i)&&E.document.addEventListener("visibilitychange",()=>{E.document.visibilityState==="hidden"&&(a&&this._flushOutcomes(),i&&Ct(this))}),i&&(this.on("flush",()=>{Ct(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{Ct(this)},ro)})),s&&(this.on("postprocessEvent",ei),this.on("beforeSendSession",ti))}eventFromException(t,n){return Zi(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return Qi(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,s){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,s)}}function ao(e){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:E.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const Tt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,h=O,io=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",He=(e,t,n,r)=>{let s,a;return i=>{t.value>=0&&(i||r)&&(a=t.value-(s??0),(a||s===void 0)&&(s=t.value,t.delta=a,t.rating=io(t.value,n),e(t)))}},oo=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,$e=(e=!0)=>{const t=h.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},be=()=>$e()?.activationStart??0,Ue=(e,t=-1)=>{const n=$e();let r="navigate";return n&&(h.document?.prerendering||be()>0?r="prerender":h.document?.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:oo(),navigationType:r}},Lt=new WeakMap;function fn(e,t){return Lt.get(e)||Lt.set(e,new t),Lt.get(e)}class ut{constructor(){ut.prototype.__init.call(this),ut.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){if(t.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),this._onAfterProcessingUnexpectedShift?.(t)}}const ve=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{Promise.resolve().then(()=>{t(s.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},pn=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let Ne=-1;const co=()=>h.document?.visibilityState==="hidden"&&!h.document?.prerendering?0:1/0,dt=e=>{h.document.visibilityState==="hidden"&&Ne>-1&&(Ne=e.type==="visibilitychange"?e.timeStamp:0,lo())},uo=()=>{addEventListener("visibilitychange",dt,!0),addEventListener("prerenderingchange",dt,!0)},lo=()=>{removeEventListener("visibilitychange",dt,!0),removeEventListener("prerenderingchange",dt,!0)},mn=()=>{if(h.document&&Ne<0){const e=be();Ne=(h.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(n=>n.name==="hidden"&&n.startTime>e)[0]?.startTime)??co(),uo()}return{get firstHiddenTime(){return Ne}}},yt=e=>{h.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},fo=[1800,3e3],po=(e,t={})=>{yt(()=>{const n=mn(),r=Ue("FCP");let s;const i=ve("paint",o=>{for(const c of o)c.name==="first-contentful-paint"&&(i.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-be(),0),r.entries.push(c),s(!0)))});i&&(s=He(e,r,fo,t.reportAllChanges))})},mo=[.1,.25],go=(e,t={})=>{po(pn(()=>{const n=Ue("CLS",0);let r;const s=fn(t,ut),a=o=>{for(const c of o)s._processEntry(c);s._sessionValue>n.value&&(n.value=s._sessionValue,n.entries=s._sessionEntries,r())},i=ve("layout-shift",a);i&&(r=He(e,n,mo,t.reportAllChanges),h.document?.addEventListener("visibilitychange",()=>{h.document?.visibilityState==="hidden"&&(a(i.takeRecords()),r(!0))}),h?.setTimeout?.(r))}))};let ns=0,Ot=1/0,je=0;const ho=e=>{e.forEach(t=>{t.interactionId&&(Ot=Math.min(Ot,t.interactionId),je=Math.max(je,t.interactionId),ns=je?(je-Ot)/7+1:0)})};let Vt;const rs=()=>Vt?ns:performance.interactionCount||0,_o=()=>{"interactionCount"in performance||Vt||(Vt=ve("event",ho,{type:"event",buffered:!0,durationThreshold:0}))},xt=10;let ss=0;const So=()=>rs()-ss;class lt{constructor(){lt.prototype.__init.call(this),lt.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){ss=rs(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(So()/50));return this._longestInteractionList[t]}_processEntry(t){if(this._onBeforeProcessingEntry?.(t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<xt||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((s,a)=>a._latency-s._latency),this._longestInteractionList.length>xt){const s=this._longestInteractionList.splice(xt);for(const a of s)this._longestInteractionMap.delete(a.id)}this._onAfterProcessingINPCandidate?.(r)}}}const gn=e=>{const t=n=>{(n.type==="pagehide"||h.document?.visibilityState==="hidden")&&e(n)};h.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},as=e=>{const t=h.requestIdleCallback||h.setTimeout;h.document?.visibilityState==="hidden"?e():(e=pn(e),t(e),gn(e))},Eo=[200,500],To=40,yo=(e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&yt(()=>{_o();const n=Ue("INP");let r;const s=fn(t,lt),a=o=>{as(()=>{for(const u of o)s._processEntry(u);const c=s._estimateP98LongestInteraction();c&&c._latency!==n.value&&(n.value=c._latency,n.entries=c.entries,r())})},i=ve("event",a,{durationThreshold:t.durationThreshold??To});r=He(e,n,Eo,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),gn(()=>{a(i.takeRecords()),r(!0)}))})};class bo{_processEntry(t){this._onBeforeProcessingEntry?.(t)}}const vo=[2500,4e3],Io=(e,t={})=>{yt(()=>{const n=mn(),r=Ue("LCP");let s;const a=fn(t,bo),i=c=>{t.reportAllChanges||(c=c.slice(-1));for(const u of c)a._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-be(),0),r.entries=[u],s())},o=ve("largest-contentful-paint",i);if(o){s=He(e,r,vo,t.reportAllChanges);const c=pn(()=>{i(o.takeRecords()),o.disconnect(),s(!0)});for(const u of["keydown","click","visibilitychange"])h.document&&addEventListener(u,()=>as(c),{capture:!0,once:!0})}})},Ro=[800,1800],zt=e=>{h.document?.prerendering?yt(()=>zt(e)):h.document?.readyState!=="complete"?addEventListener("load",()=>zt(e),!0):setTimeout(e)},wo=(e,t={})=>{const n=Ue("TTFB"),r=He(e,n,Ro,t.reportAllChanges);zt(()=>{const s=$e();s&&(n.value=Math.max(s.responseStart-be(),0),n.entries=[s],r(!0))})},Ce={},ft={};let is,os,cs,us;function ds(e,t=!1){return bt("cls",e,No,is,t)}function ls(e,t=!1){return bt("lcp",e,Co,os,t)}function ko(e){return bt("ttfb",e,Po,cs)}function Ao(e){return bt("inp",e,Lo,us)}function Se(e,t){return fs(e,t),ft[e]||(Oo(e),ft[e]=!0),ps(e,t)}function Be(e,t){const n=Ce[e];if(n?.length)for(const r of n)try{r(t)}catch(s){Tt&&m.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Z(r)}
Error:`,s)}}function No(){return go(e=>{Be("cls",{metric:e}),is=e},{reportAllChanges:!0})}function Co(){return Io(e=>{Be("lcp",{metric:e}),os=e},{reportAllChanges:!0})}function Po(){return wo(e=>{Be("ttfb",{metric:e}),cs=e})}function Lo(){return yo(e=>{Be("inp",{metric:e}),us=e})}function bt(e,t,n,r,s=!1){fs(e,t);let a;return ft[e]||(a=n(),ft[e]=!0),r&&t({metric:r}),ps(e,t,s?a:void 0)}function Oo(e){const t={};e==="event"&&(t.durationThreshold=0),ve(e,n=>{Be(e,{entries:n})},t)}function fs(e,t){Ce[e]=Ce[e]||[],Ce[e].push(t)}function ps(e,t,n){return()=>{n&&n();const r=Ce[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function xo(e){return"duration"in e}function Mt(e){return typeof e=="number"&&isFinite(e)}function te(e,t,n,{...r}){const s=v(e).start_timestamp;return s&&s>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),on(e,()=>{const a=ye({startTime:t,...r});return a&&a.end(n),a})}function hn(e){const t=I();if(!t)return;const{name:n,transaction:r,attributes:s,startTime:a}=e,{release:i,environment:o,sendDefaultPii:c}=t.getOptions(),d=t.getIntegrationByName("Replay")?.getReplayId(),l=w(),f=l.getUser(),p=f!==void 0?f.email||f.id||f.ip_address:void 0;let S;try{S=l.getScopeData().contexts.profile.profile_id}catch{}const _={release:i,environment:o,user:p||void 0,profile_id:S||void 0,replay_id:d||void 0,transaction:r,"user_agent.original":h.navigator?.userAgent,"client.address":c?"{{auto}}":void 0,...s};return ye({name:n,attributes:_,startTime:a,experimental:{standalone:!0}})}function vt(){return h.addEventListener&&h.performance}function R(e){return e/1e3}function ms(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function gs(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function hs(e,t){let n,r=!1;function s(o){!r&&n&&t(o,n),r=!0}gn(()=>{s("pagehide")});const a=e.on("beforeStartNavigationSpan",(o,c)=>{c?.isRedirect||(s("navigation"),a?.(),i?.())}),i=e.on("afterStartPageLoadSpan",o=>{n=o.spanContext().spanId,i?.()})}function Mo(e){let t=0,n;if(!gs("layout-shift"))return;const r=ds(({metric:s})=>{const a=s.entries[s.entries.length-1];a&&(t=s.value,n=a)},!0);hs(e,(s,a)=>{Do(t,n,a,s),r()})}function Do(e,t,n,r){Tt&&m.log(`Sending CLS span (${e})`);const s=R((U()||0)+(t?.startTime||0)),a=w().getScopeData().transactionName,i=t?V(t.sources[0]?.node):"Layout shift",o={[k]:"auto.http.browser.cls",[Q]:"ui.webvital.cls",[Ee]:t?.duration||0,"sentry.pageload.span_id":n,"sentry.report_event":r};t?.sources&&t.sources.forEach((u,d)=>{o[`cls.source.${d+1}`]=V(u.node)});const c=hn({name:i,transaction:a,attributes:o,startTime:s});c&&(c.addEvent("cls",{[De]:"",[Fe]:e}),c.end(s))}function Fo(e){let t=0,n;if(!gs("largest-contentful-paint"))return;const r=ls(({metric:s})=>{const a=s.entries[s.entries.length-1];a&&(t=s.value,n=a)},!0);hs(e,(s,a)=>{Ho(t,n,a,s),r()})}function Ho(e,t,n,r){Tt&&m.log(`Sending LCP span (${e})`);const s=R((U()||0)+(t?.startTime||0)),a=w().getScopeData().transactionName,i=t?V(t.element):"Largest contentful paint",o={[k]:"auto.http.browser.lcp",[Q]:"ui.webvital.lcp",[Ee]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(o["lcp.element"]=V(t.element)),t.id&&(o["lcp.id"]=t.id),t.url&&(o["lcp.url"]=t.url.trim().slice(0,200)),t.loadTime!=null&&(o["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(o["lcp.renderTime"]=t.renderTime),t.size!=null&&(o["lcp.size"]=t.size));const c=hn({name:i,transaction:a,attributes:o,startTime:s});c&&(c.addEvent("lcp",{[De]:"millisecond",[Fe]:e}),c.end(s))}const $o=2147483647;let tr=0,W={},x,pt;function Uo({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const r=vt();if(r&&U()){r.mark&&h.performance.mark("sentry-tracing-init");const s=t?Fo(n):Go(),a=Yo(),i=e?Mo(n):jo();return()=>{s?.(),a(),i?.()}}return()=>{}}function Bo(){Se("longtask",({entries:e})=>{const t=$();if(!t)return;const{op:n,start_timestamp:r}=v(t);for(const s of e){const a=R(U()+s.startTime),i=R(s.duration);n==="navigation"&&r&&a<r||te(t,a,a+i,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[k]:"auto.ui.browser.metrics"}})}})}function qo(){new PerformanceObserver(t=>{const n=$();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const s=R(U()+r.startTime),{start_timestamp:a,op:i}=v(n);if(i==="navigation"&&a&&s<a)continue;const o=R(r.duration),c={[k]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:d,invokerType:l,sourceURL:f,sourceFunctionName:p,sourceCharPosition:S}=u;c["browser.script.invoker"]=d,c["browser.script.invoker_type"]=l,f&&(c["code.filepath"]=f),p&&(c["code.function"]=p),S!==-1&&(c["browser.script.source_char_position"]=S),te(n,s,s+o,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function Wo(){Se("event",({entries:e})=>{const t=$();if(t){for(const n of e)if(n.name==="click"){const r=R(U()+n.startTime),s=R(n.duration),a={name:V(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[k]:"auto.ui.browser.metrics"}},i=Nr(n.target);i&&(a.attributes["ui.component_name"]=i),te(t,r,r+s,a)}}})}function jo(){return ds(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(W.cls={value:e.value,unit:""},pt=t)},!0)}function Go(){return ls(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(W.lcp={value:e.value,unit:"millisecond"},x=t)},!0)}function Yo(){return ko(({metric:e})=>{e.entries[e.entries.length-1]&&(W.ttfb={value:e.value,unit:"millisecond"})})}function Vo(e,t){const n=vt(),r=U();if(!n?.getEntries||!r)return;const s=R(r),a=n.getEntries(),{op:i,start_timestamp:o}=v(e);a.slice(tr).forEach(c=>{const u=R(c.startTime),d=R(Math.max(0,c.duration));if(!(i==="navigation"&&o&&s+u<o))switch(c.entryType){case"navigation":{Jo(e,c,s);break}case"mark":case"paint":case"measure":{zo(e,c,u,d,s,t.ignorePerformanceApiSpans);const l=mn(),f=c.startTime<l.firstHiddenTime;c.name==="first-paint"&&f&&(W.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&f&&(W.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{Qo(e,c,c.name,u,d,s,t.ignoreResourceSpans);break}}}),tr=Math.max(a.length-1,0),ec(e),i==="pageload"&&(nc(W),t.recordClsOnPageloadSpan||delete W.cls,t.recordLcpOnPageloadSpan||delete W.lcp,Object.entries(W).forEach(([c,u])=>{Sa(c,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",s),e.setAttribute("performance.activationStart",be()),tc(e,t)),x=void 0,pt=void 0,W={}}function zo(e,t,n,r,s,a){if(["mark","measure"].includes(t.entryType)&&K(t.name,a))return;const i=$e(!1),o=R(i?i.requestStart:0),c=s+Math.max(n,o),u=s+n,d=u+r,l={[k]:"auto.resource.browser.metrics"};c!==u&&(l["sentry.browser.measure_happened_before_request"]=!0,l["sentry.browser.measure_start_time"]=c),Xo(l,t),c<=d&&te(e,c,d,{name:t.name,op:t.entryType,attributes:l})}function Xo(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[r,s]of Object.entries(n))if(s&&Le(s))e[`sentry.browser.measure.detail.${r}`]=s;else if(s!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(s)}catch{}return}if(Le(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function Jo(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Ge(e,t,r,n)}),Ge(e,t,"secureConnection",n,"TLS/SSL"),Ge(e,t,"fetch",n,"cache"),Ge(e,t,"domainLookup",n,"DNS"),Zo(e,t,n)}function Ge(e,t,n,r,s=n){const a=Ko(n),i=t[a],o=t[`${n}Start`];!o||!i||te(e,r+R(o),r+R(i),{op:`browser.${s}`,name:t.name,attributes:{[k]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function Ko(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function Zo(e,t,n){const r=n+R(t.requestStart),s=n+R(t.responseEnd),a=n+R(t.responseStart);t.responseEnd&&(te(e,r,s,{op:"browser.request",name:t.name,attributes:{[k]:"auto.ui.browser.metrics"}}),te(e,a,s,{op:"browser.response",name:t.name,attributes:{[k]:"auto.ui.browser.metrics"}}))}function Qo(e,t,n,r,s,a,i){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(i?.includes(o))return;const c=ce(n),u={[k]:"auto.resource.browser.metrics"};Dt(u,t,"transferSize","http.response_transfer_size"),Dt(u,t,"encodedBodySize","http.response_content_length"),Dt(u,t,"decodedBodySize","http.decoded_response_content_length");const d=t.deliveryType;d!=null&&(u["http.response_delivery_type"]=d);const l=t.renderBlockingStatus;if(l&&(u["resource.render_blocking_status"]=l),c.protocol&&(u["url.scheme"]=c.protocol.split(":").pop()),c.host&&(u["server.address"]=c.host),u["url.same_origin"]=n.includes(h.location.origin),t.nextHopProtocol!=null){const{name:S,version:_}=ms(t.nextHopProtocol);u["network.protocol.name"]=S,u["network.protocol.version"]=_}const f=a+r,p=f+s;te(e,f,p,{name:n.replace(h.location.origin,""),op:o,attributes:u})}function ec(e){const t=h.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Mt(n.rtt)&&(W["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Mt(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Mt(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function tc(e,t){x&&t.recordLcpOnPageloadSpan&&(x.element&&e.setAttribute("lcp.element",V(x.element)),x.id&&e.setAttribute("lcp.id",x.id),x.url&&e.setAttribute("lcp.url",x.url.trim().slice(0,200)),x.loadTime!=null&&e.setAttribute("lcp.loadTime",x.loadTime),x.renderTime!=null&&e.setAttribute("lcp.renderTime",x.renderTime),e.setAttribute("lcp.size",x.size)),pt?.sources&&t.recordClsOnPageloadSpan&&pt.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,V(n.node)))}function Dt(e,t,n,r){const s=t[n];s!=null&&s<$o&&(e[r]=s)}function nc(e){const t=$e(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function rc(){return vt()&&U()?Se("element",sc):()=>{}}const sc=({entries:e})=>{const t=$(),n=t?H(t):void 0,r=n?v(n).description:w().getScopeData().transactionName;e.forEach(s=>{const a=s;if(!a.identifier)return;const i=a.name,o=a.renderTime,c=a.loadTime,[u,d]=c?[R(c),"load-time"]:o?[R(o),"render-time"]:[M(),"entry-emission"],l=i==="image-paint"?R(Math.max(0,(o??0)-(c??0))):0,f={[k]:"auto.ui.browser.elementtiming",[Q]:"ui.elementtiming",[G]:"component","sentry.span_start_time_source":d,"sentry.transaction_name":r,"element.id":a.id,"element.type":a.element?.tagName?.toLowerCase()||"unknown","element.size":a.naturalWidth&&a.naturalHeight?`${a.naturalWidth}x${a.naturalHeight}`:void 0,"element.render_time":o,"element.load_time":c,"element.url":a.url||void 0,"element.identifier":a.identifier,"element.paint_type":i};Ia({name:`element[${a.identifier}]`,attributes:f,startTime:u,onlyIfParent:!0},p=>{p.end(u+l)})})},ac=1e3;let nr,Xt,Jt;function ic(e){const t="dom";ne(t,e),re(t,oc)}function oc(){if(!h.document)return;const e=B.bind(null,"dom"),t=rr(e,!0);h.document.addEventListener("click",t,!1),h.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const s=h[n]?.prototype;s?.hasOwnProperty?.("addEventListener")&&(F(s,"addEventListener",function(a){return function(i,o,c){if(i==="click"||i=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[i]=u[i]||{refCount:0};if(!d.handler){const l=rr(e);d.handler=l,a.call(this,i,l,c)}d.refCount++}catch{}return a.call(this,i,o,c)}}),F(s,"removeEventListener",function(a){return function(i,o,c){if(i==="click"||i=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},d=u[i];d&&(d.refCount--,d.refCount<=0&&(a.call(this,i,d.handler,c),d.handler=void 0,delete u[i]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return a.call(this,i,o,c)}}))})}function cc(e){if(e.type!==Xt)return!1;try{if(!e.target||e.target._sentryId!==Jt)return!1}catch{}return!0}function uc(e,t){return e!=="keypress"?!1:t?.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function rr(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=dc(n);if(uc(n.type,r))return;it(n,"_sentryCaptured",!0),r&&!r._sentryId&&it(r,"_sentryId",Je());const s=n.type==="keypress"?"input":n.type;cc(n)||(e({event:n,name:s,global:t}),Xt=n.type,Jt=r?r._sentryId:void 0),clearTimeout(nr),nr=h.setTimeout(()=>{Jt=void 0,Xt=void 0},ac)}}function dc(e){try{return e.target}catch{return null}}let Ye;function _n(e){const t="history";ne(t,e),re(t,lc)}function lc(){if(h.addEventListener("popstate",()=>{const t=h.location.href,n=Ye;if(Ye=t,n===t)return;B("history",{from:n,to:t})}),!Fi())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const s=Ye,a=fc(String(r));if(Ye=a,s===a)return t.apply(this,n);B("history",{from:s,to:a})}return t.apply(this,n)}}F(h.history,"pushState",e),F(h.history,"replaceState",e)}function fc(e){try{return new URL(e,h.location.origin).toString()}catch{return e}}const et={};function pc(e){const t=et[e];if(t)return t;let n=h[e];if(jt(n))return et[e]=n.bind(h);const r=h.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const a=s.contentWindow;a?.[e]&&(n=a[e]),r.head.removeChild(s)}catch(s){Tt&&m.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,s)}return n&&(et[e]=n.bind(h))}function sr(e){et[e]=void 0}const ge="__sentry_xhr_v3__";function _s(e){const t="xhr";ne(t,e),re(t,mc)}function mc(){if(!h.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,a=M()*1e3,i=Ae(r[0])?r[0].toUpperCase():void 0,o=gc(r[1]);if(!i||!o)return t.apply(n,r);n[ge]={method:i,url:o,request_headers:{}},i==="POST"&&o.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[ge];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const d={endTimestamp:M()*1e3,startTimestamp:a,xhr:n,virtualError:s};B("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,l){return c(),u.apply(d,l)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,l){const[f,p]=l,S=d[ge];return S&&Ae(f)&&Ae(p)&&(S.request_headers[f.toLowerCase()]=p),u.apply(d,l)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[ge];if(!s)return t.apply(n,r);r[0]!==void 0&&(s.body=r[0]);const a={startTimestamp:M()*1e3,xhr:n};return B("xhr",a),t.apply(n,r)}})}function gc(e){if(Ae(e))return e;try{return e.toString()}catch{}}const Ft=[],tt=new Map,hc=60;function _c(){if(vt()&&U()){const t=Sc();return()=>{t()}}return()=>{}}const ar={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Sc(){return Ao(Ec)}const Ec=({metric:e})=>{if(e.value==null)return;const t=R(e.value);if(t>hc)return;const n=e.entries.find(S=>S.duration===e.value&&ar[S.name]);if(!n)return;const{interactionId:r}=n,s=ar[n.name],a=R(U()+n.startTime),i=$(),o=i?H(i):void 0,u=(r!=null?tt.get(r):void 0)||o,d=u?v(u).description:w().getScopeData().transactionName,l=V(n.target),f={[k]:"auto.http.browser.inp",[Q]:`ui.interaction.${s}`,[Ee]:n.duration},p=hn({name:l,transaction:d,attributes:f,startTime:a});p&&(p.addEvent("inp",{[De]:"millisecond",[Fe]:e.value}),p.end(a+t))};function Tc(){const e=({entries:t})=>{const n=$(),r=n&&H(n);t.forEach(s=>{if(!xo(s)||!r)return;const a=s.interactionId;if(a!=null&&!tt.has(a)){if(Ft.length>10){const i=Ft.shift();tt.delete(i)}Ft.push(a),tt.set(a,r)}})};Se("event",e),Se("first-input",e)}function yc(e,t=pc("fetch")){let n=0,r=0;function s(a){const i=a.body.length;n+=i,r++;const o={body:a.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return sr("fetch"),st("No fetch implementation available");try{return t(e.url,o).then(c=>(n-=i,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return sr("fetch"),n-=i,r--,st(c)}}return Qa(e,s)}const bc=30,vc=50;function Kt(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?_e:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const Ic=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Rc=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,wc=/\((\S*)(?::(\d+))(?::(\d+))\)/,kc=e=>{const t=Ic.exec(e);if(t){const[,r,s,a]=t;return Kt(r,_e,+s,+a)}const n=Rc.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const i=wc.exec(n[2]);i&&(n[2]=i[1],n[3]=i[2],n[4]=i[3])}const[s,a]=Ss(n[1]||_e,n[2]);return Kt(a,s,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},Ac=[bc,kc],Nc=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Cc=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Pc=e=>{const t=Nc.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const a=Cc.exec(t[3]);a&&(t[1]=t[1]||"eval",t[3]=a[1],t[4]=a[2],t[5]="")}let r=t[3],s=t[1]||_e;return[s,r]=Ss(s,r),Kt(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Lc=[vc,Pc],Oc=[Ac,Lc],xc=Ks(...Oc),Ss=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:_e,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Ve=1024,Mc="Breadcrumbs",Dc=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Mc,setup(n){t.console&&Ei(Uc(n)),t.dom&&ic($c(n,t.dom)),t.xhr&&_s(Bc(n)),t.fetch&&Qr(qc(n)),t.history&&_n(Wc(n)),t.sentry&&n.on("beforeSendEvent",Hc(n))}}},Fc=Dc;function Hc(e){return function(n){I()===e&&fe({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:oe(n)},{event:n})}}function $c(e,t){return function(r){if(I()!==e)return;let s,a,i=typeof t=="object"?t.serializeAttribute:void 0,o=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;o&&o>Ve&&(q&&m.warn(`\`dom.maxStringLength\` cannot exceed ${Ve}, but a value of ${o} was configured. Sentry will use ${Ve} instead.`),o=Ve),typeof i=="string"&&(i=[i]);try{const u=r.event,d=jc(u)?u.target:u;s=V(d,{keyAttrs:i,maxStringLength:o}),a=Nr(d)}catch{s="<unknown>"}if(s.length===0)return;const c={category:`ui.${r.name}`,message:s};a&&(c.data={"ui.component_name":a}),fe(c,{event:r.event,name:r.name,global:r.global})}}function Uc(e){return function(n){if(I()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:yi(n.level),message:An(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${An(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;fe(r,{input:n.args,level:n.level})}}function Bc(e){return function(n){if(I()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,a=n.xhr[ge];if(!r||!s||!a)return;const{method:i,url:o,status_code:c,body:u}=a,d={method:i,url:o,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s},f={category:"xhr",data:d,type:"http",level:Zr(c)};e.emit("beforeOutgoingRequestBreadcrumb",f,l),fe(f,l)}}function qc(e){return function(n){if(I()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const a=n.fetchData,i={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s},o={category:"fetch",data:a,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",o,i),fe(o,i)}else{const a=n.response,i={...n.fetchData,status_code:a?.status};n.fetchData.request_body_size,n.fetchData.response_body_size,a?.status;const o={input:n.args,response:a,startTimestamp:r,endTimestamp:s},c={category:"fetch",data:i,type:"http",level:Zr(i.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,o),fe(c,o)}}}function Wc(e){return function(n){if(I()!==e)return;let r=n.from,s=n.to;const a=ce(E.location.href);let i=r?ce(r):void 0;const o=ce(s);i?.path||(i=a),a.protocol===o.protocol&&a.host===o.host&&(s=o.relative),a.protocol===i.protocol&&a.host===i.host&&(r=i.relative),fe({category:"navigation",data:{from:r,to:s}})}}function jc(e){return!!e&&!!e.target}const Gc=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Yc="BrowserApiErrors",Vc=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:Yc,setupOnce(){t.setTimeout&&F(E,"setTimeout",ir),t.setInterval&&F(E,"setInterval",ir),t.requestAnimationFrame&&F(E,"requestAnimationFrame",Xc),t.XMLHttpRequest&&"XMLHttpRequest"in E&&F(XMLHttpRequest.prototype,"send",Jc);const n=t.eventTarget;n&&(Array.isArray(n)?n:Gc).forEach(s=>Kc(s,t))}}},zc=Vc;function ir(e){return function(...t){const n=t[0];return t[0]=Pe(n,{mechanism:{data:{function:Z(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Xc(e){return function(t){return e.apply(this,[Pe(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Z(e)},handled:!1,type:"instrument"}})])}}function Jc(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&F(n,s,function(a){const i={mechanism:{data:{function:s,handler:Z(a)},handled:!1,type:"instrument"}},o=Ir(a);return o&&(i.mechanism.data.handler=Z(o)),Pe(a,i)})}),e.apply(this,t)}}function Kc(e,t){const r=E[e]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(F(r,"addEventListener",function(s){return function(a,i,o){try{Zc(i)&&(i.handleEvent=Pe(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Z(i),target:e},handled:!1,type:"instrument"}}))}catch{}return t.unregisterOriginalCallbacks&&Qc(this,a,i),s.apply(this,[a,Pe(i,{mechanism:{data:{function:"addEventListener",handler:Z(i),target:e},handled:!1,type:"instrument"}}),o])}}),F(r,"removeEventListener",function(s){return function(a,i,o){try{const c=i.__sentry_wrapped__;c&&s.call(this,a,c,o)}catch{}return s.call(this,a,i,o)}}))}function Zc(e){return typeof e.handleEvent=="function"}function Qc(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}const eu=()=>({name:"BrowserSession",setupOnce(){if(typeof E.document>"u"){q&&m.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Nn({ignoreDuration:!0}),Cn(),_n(({from:e,to:t})=>{e!==void 0&&e!==t&&(Nn({ignoreDuration:!0}),Cn())})}}),tu="GlobalHandlers",nu=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:tu,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(su(n),or("onerror")),t.onunhandledrejection&&(au(n),or("onunhandledrejection"))}}},ru=nu;function su(e){Pr(t=>{const{stackParser:n,attachStacktrace:r}=Es();if(I()!==e||pr())return;const{msg:s,url:a,line:i,column:o,error:c}=t,u=cu(ln(n,c||s,void 0,r,!1),a,i,o);u.level="error",Cr(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function au(e){Lr(t=>{const{stackParser:n,attachStacktrace:r}=Es();if(I()!==e||pr())return;const s=iu(t),a=Le(s)?ou(s):ln(n,s,void 0,r,!0);a.level="error",Cr(a,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function iu(e){if(Le(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function ou(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function cu(e,t,n,r){const s=e.exception=e.exception||{},a=s.values=s.values||[],i=a[0]=a[0]||{},o=i.stacktrace=i.stacktrace||{},c=o.frames=o.frames||[],u=r,d=n,l=Ae(t)&&t.length>0?t:St();return c.length===0&&c.push({colno:u,filename:l,function:_e,in_app:!0,lineno:d}),e}function or(e){q&&m.log(`Global Handler attached: ${e}`)}function Es(){return I()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const uu=()=>({name:"HttpContext",preprocessEvent(e){if(!E.navigator&&!E.location&&!E.document)return;const t=en(),n={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:n}}}),du="cause",lu=5,fu="LinkedErrors",pu=(e={})=>{const t=e.limit||lu,n=e.key||du;return{name:fu,preprocessEvent(r,s,a){const i=a.getOptions();Si(un,i.stackParser,n,t,r,s)}}},mu=pu;function gu(){return hu()?(q&&sn(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function hu(){if(typeof E.window>"u")return!1;const e=E;if(e.nw||!(e.chrome||e.browser)?.runtime?.id)return!1;const n=St(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(E===E.top&&r.some(a=>n.startsWith(`${a}://`)))}function Zt(e){return[di(),ii(),zc(),Fc(),ru(),mu(),Ii(),uu(),eu()]}function _u(e={}){const t=!e.skipBrowserExtensionCheck&&gu(),n={...e,enabled:t?!1:e.enabled,stackParser:Zs(e.stackParser||xc),integrations:Oa({integrations:e.integrations,defaultIntegrations:e.defaultIntegrations==null?Zt():e.defaultIntegrations}),transport:e.transport||yc};return ja(so,n)}function j(e=0){return((U()||performance.timeOrigin)+e)/1e3}function Su(e){const t=[];if(e.nextHopProtocol!=null){const{name:n,version:r}=ms(e.nextHopProtocol);t.push(["network.protocol.version",r],["network.protocol.name",n])}return U()?[...t,["http.request.redirect_start",j(e.redirectStart)],["http.request.fetch_start",j(e.fetchStart)],["http.request.domain_lookup_start",j(e.domainLookupStart)],["http.request.domain_lookup_end",j(e.domainLookupEnd)],["http.request.connect_start",j(e.connectStart)],["http.request.secure_connection_start",j(e.secureConnectionStart)],["http.request.connection_end",j(e.connectEnd)],["http.request.request_start",j(e.requestStart)],["http.request.response_start",j(e.responseStart)],["http.request.response_end",j(e.responseEnd)]]:t}const cr=new WeakMap,Ht=new Map,Ts={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function Eu(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:a,enableHTTPTimings:i,tracePropagationTargets:o,onRequestSpanStart:c}={...Ts,...t},u=typeof a=="function"?a:f=>!0,d=f=>yu(f,o),l={};n&&(e.addEventProcessor(f=>(f.type==="transaction"&&f.spans&&f.spans.forEach(p=>{if(p.op==="http.client"){const S=Ht.get(p.span_id);S&&(p.timestamp=S/1e3,Ht.delete(p.span_id))}}),f)),s&&Ui(f=>{if(f.response){const p=cr.get(f.response);p&&f.endTimestamp&&Ht.set(p,f.endTimestamp)}}),Qr(f=>{const p=Pi(f,u,d,l);if(f.response&&f.fetchData.__span&&cr.set(f.response,f.fetchData.__span),p){const S=ys(f.fetchData.url),_=S?ce(S).host:void 0;p.setAttributes({"http.url":S,"server.address":_}),i&&ur(p),c?.(p,{headers:f.headers})}})),r&&_s(f=>{const p=bu(f,u,d,l);if(p){i&&ur(p);let S;try{S=new Headers(f.xhr.__sentry_xhr_v3__?.request_headers)}catch{}c?.(p,{headers:S})}})}function Tu(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function ur(e){const{url:t}=v(e).data;if(!t||typeof t!="string")return;const n=Se("resource",({entries:r})=>{r.forEach(s=>{Tu(s)&&s.name.endsWith(t)&&(Su(s).forEach(i=>e.setAttribute(...i)),setTimeout(n))})})}function yu(e,t){const n=St();if(n){let r,s;try{r=new URL(e,n),s=new URL(n).origin}catch{return!1}const a=r.origin===s;return t?K(r.toString(),t)||a&&K(r.pathname,t):a}else{const r=!!e.match(/^\/(?!\/)/);return t?K(e,t):r}}function bu(e,t,n,r){const s=e.xhr,a=s?.[ge];if(!s||s.__sentry_own_request__||!a)return;const{url:i,method:o}=a,c=de()&&t(i);if(e.endTimestamp&&c){const _=s.__sentry_xhr_span_id__;if(!_)return;const D=r[_];D&&a.status_code!==void 0&&(Rr(D,a.status_code),D.end(),delete r[_]);return}const u=ys(i),d=ce(u||i),l=Ci(i),f=!!$(),p=c&&f?ye({name:`${o} ${l}`,attributes:{url:i,type:"xhr","http.method":o,"http.url":u,"server.address":d?.host,[k]:"auto.http.browser",[Q]:"http.client",...d?.search&&{"http.query":d?.search},...d?.hash&&{"http.fragment":d?.hash}}}):new ee;s.__sentry_xhr_span_id__=p.spanContext().spanId,r[s.__sentry_xhr_span_id__]=p,n(i)&&vu(s,de()&&f?p:void 0);const S=I();return S&&S.emit("beforeOutgoingRequestSpan",p,e),p}function vu(e,t){const{"sentry-trace":n,baggage:r}=Vr({span:t});n&&Iu(e,n,r)}function Iu(e,t,n){const r=e.__sentry_xhr_v3__?.request_headers;if(!r?.["sentry-trace"])try{if(e.setRequestHeader("sentry-trace",t),n){const s=r?.baggage;(!s||!Ru(s))&&e.setRequestHeader("baggage",n)}}catch{}}function Ru(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function ys(e){try{return new URL(e,E.location.origin).href}catch{return}}function wu(){E.document?E.document.addEventListener("visibilitychange",()=>{const e=$();if(!e)return;const t=H(e);if(E.document.hidden&&t){const n="cancelled",{op:r,status:s}=v(t);q&&m.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),s||t.setStatus({code:he,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):q&&m.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const ku=3600,bs="sentry_previous_trace",Au="sentry.previous_trace";function Nu(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r=t==="session-storage";let s=r?Lu():void 0;e.on("spanStart",i=>{if(H(i)!==i)return;const o=w().getPropagationContext();s=Cu(s,i,o),r&&Pu(s)});let a=!0;n&&e.on("beforeSampling",i=>{if(!s)return;const o=w(),c=o.getPropagationContext();if(a&&c.parentSpanId){a=!1;return}o.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(s.sampleRate),sampled:String(Qt(s.spanContext))},sampleRand:s.sampleRand}),i.parentSampled=Qt(s.spanContext),i.parentSampleRate=s.sampleRate,i.spanAttributes={...i.spanAttributes,[Qs]:s.sampleRate}})}function Cu(e,t,n){const r=v(t);function s(){try{return Number(n.dsc?.sample_rate)??Number(r.data?.[Tr])}catch{return 0}}const a={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:s(),sampleRand:n.sampleRand};if(!e)return a;const i=e.spanContext;return i.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=ku&&(q&&m.log(`Adding previous_trace ${i} link to span ${{op:r.op,...t.spanContext()}}`),t.addLink({context:i,attributes:{[ea]:"previous_trace"}}),t.setAttribute(Au,`${i.traceId}-${i.spanId}-${Qt(i)?1:0}`)),a)}function Pu(e){try{E.sessionStorage.setItem(bs,JSON.stringify(e))}catch(t){q&&m.warn("Could not store previous trace in sessionStorage",t)}}function Lu(){try{const e=E.sessionStorage?.getItem(bs);return JSON.parse(e)}catch{return}}function Qt(e){return e.traceFlags===1}const Ou="BrowserTracing",xu={...Ze,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{},...Ts},Mu=(e={})=>{const t={name:void 0,source:void 0},n=E.document,{enableInp:r,enableElementTiming:s,enableLongTask:a,enableLongAnimationFrame:i,_experiments:{enableInteractions:o,enableStandaloneClsSpans:c,enableStandaloneLcpSpans:u},beforeStartSpan:d,idleTimeout:l,finalTimeout:f,childSpanTimeout:p,markBackgroundSpan:S,traceFetch:_,traceXHR:D,trackFetchStreamPerformance:Y,shouldCreateSpanForRequest:se,enableHTTPTimings:It,ignoreResourceSpans:Rt,ignorePerformanceApiSpans:qe,instrumentPageLoad:T,instrumentNavigation:P,detectRedirects:pe,linkPreviousTrace:Ie,consistentTraceSampling:me,onRequestSpanStart:ae}={...xu,...e};let A,ie;function z(b,N,y=!0){const C=N.op==="pageload",L=d?d(N):N,X=L.attributes||{};if(N.name!==L.name&&(X[G]="custom",L.attributes=X),!y){const we=_t();ye({...L,startTime:we}).end(we);return}t.name=L.name,t.source=X[G];const J=Hr(L,{idleTimeout:l,finalTimeout:f,childSpanTimeout:p,disableAutoFinish:C,beforeSpanEnd:we=>{A?.(),Vo(we,{recordClsOnPageloadSpan:!c,recordLcpOnPageloadSpan:!u,ignoreResourceSpans:Rt,ignorePerformanceApiSpans:qe}),lr(b,void 0);const Sn=w(),Is=Sn.getPropagationContext();Sn.setPropagationContext({...Is,traceId:J.spanContext().traceId,sampled:mt(J),dsc:ue(we)})}});lr(b,J);function Re(){n&&["interactive","complete"].includes(n.readyState)&&b.emit("idleSpanEnableAutoFinish",J)}C&&n&&(n.addEventListener("readystatechange",()=>{Re()}),Re())}return{name:Ou,setup(b){if(sa(),A=Uo({recordClsStandaloneSpans:c||!1,recordLcpStandaloneSpans:u||!1,client:b}),r&&_c(),s&&rc(),i&&O.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?qo():a&&Bo(),o&&Wo(),pe&&n){const y=()=>{ie=M()};addEventListener("click",y,{capture:!0}),addEventListener("keydown",y,{capture:!0,passive:!0})}function N(){const y=xe(b);y&&!v(y).timestamp&&(q&&m.log(`[Tracing] Finishing current active span with op: ${v(y).op}`),y.setAttribute(rt,"cancelled"),y.end())}b.on("startNavigationSpan",(y,C)=>{if(I()!==b)return;if(C?.isRedirect){q&&m.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),z(b,{op:"navigation.redirect",...y},!1);return}N(),gt().setPropagationContext({traceId:nt(),sampleRand:Math.random()});const L=w();L.setPropagationContext({traceId:nt(),sampleRand:Math.random()}),L.setSDKProcessingMetadata({normalizedRequest:void 0}),z(b,{op:"navigation",...y})}),b.on("startPageLoadSpan",(y,C={})=>{if(I()!==b)return;N();const L=C.sentryTrace||dr("sentry-trace"),X=C.baggage||dr("baggage"),J=ta(L,X),Re=w();Re.setPropagationContext(J),Re.setSDKProcessingMetadata({normalizedRequest:en()}),z(b,{op:"pageload",...y})})},afterAllSetup(b){let N=St();if(Ie!=="off"&&Nu(b,{linkPreviousTrace:Ie,consistentTraceSampling:me}),E.location){if(T){const y=U();Du(b,{name:E.location.pathname,startTime:y?y/1e3:void 0,attributes:{[G]:"url",[k]:"auto.pageload.browser"}})}P&&_n(({to:y,from:C})=>{if(C===void 0&&N?.indexOf(y)!==-1){N=void 0;return}N=void 0;const L=Kr(y),X=xe(b),J=X&&pe&&$u(X,ie);Fu(b,{name:L?.pathname||E.location.pathname,attributes:{[G]:"url",[k]:"auto.navigation.browser"}},{url:y,isRedirect:J})})}S&&wu(),o&&Hu(b,l,f,p,t),r&&Tc(),Eu(b,{traceFetch:_,traceXHR:D,trackFetchStreamPerformance:Y,tracePropagationTargets:b.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:se,enableHTTPTimings:It,onRequestSpanStart:ae})}}};function Du(e,t,n){e.emit("startPageLoadSpan",t,n),w().setTransactionName(t.name);const r=xe(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function Fu(e,t,n){const{url:r,isRedirect:s}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:s}),e.emit("startNavigationSpan",t,{isRedirect:s});const a=w();return a.setTransactionName(t.name),r&&!s&&a.setSDKProcessingMetadata({normalizedRequest:{...en(),url:r}}),xe(e)}function dr(e){return E.document?.querySelector(`meta[name=${e}]`)?.getAttribute("content")||void 0}function Hu(e,t,n,r,s){const a=E.document;let i;const o=()=>{const c="ui.action.click",u=xe(e);if(u){const d=v(u).op;if(["navigation","pageload"].includes(d)){q&&m.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(rt,"interactionInterrupted"),i.end(),i=void 0),!s.name){q&&m.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}i=Hr({name:s.name,op:c,attributes:{[G]:s.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};a&&addEventListener("click",o,{capture:!0})}const vs="_sentry_idleSpan";function xe(e){return e[vs]}function lr(e,t){it(e,vs,t)}const fr=.3;function $u(e,t){const n=v(e),r=_t(),s=n.start_timestamp;return!(r-s>fr||t&&r-t<=fr)}const Uu=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Bu(e){return E.document?.querySelector(`meta[name=${e}]`)?.getAttribute("content")||void 0}function qu(e={}){const t=Mu(e);return{...t,setup(n){t.setup?.(n),n.on("afterStartPageLoadSpan",r=>{const s=Bu("sentry-route-name");if(s){let a;try{a=decodeURIComponent(s)}catch{return}Uu&&m.log(`[Tracing] Using route name from Sentry HTML meta-tag: ${a}`),r.updateName(a),r.setAttributes({[G]:"route",[k]:"auto.pageload.astro"})}})}}}function Wu(e){const t={defaultIntegrations:ju(),...e};return Yr(t,"astro",["astro","browser"]),_u(t)}function ju(e){return typeof __SENTRY_TRACING__>"u"||__SENTRY_TRACING__?[...Zt(),qu()]:Zt()}Wu({dsn:wt("PUBLIC_SENTRY_DSN")??void 0,release:wt("PUBLIC_TAG_NAME")??void 0,environment:wt("PUBLIC_NODE_ENV")??void 0,tracesSampleRate:.2,replaysSessionSampleRate:0,replaysOnErrorSampleRate:0,sendDefaultPii:!0,debug:!Pn(),beforeSend(e,t){if(Pn()?Ln.log("Sentry event filtered in production env: "+t.originalException):Ln.log("Sentry event filtered in non-production env: ",t.originalException),e.exception?.values?.some(a=>a.stacktrace?.frames?.some(i=>i.filename?.includes("chrome-extension:"))))return null;const{request:r}=e;return["password","token","auth"].some(a=>r?.url?.includes(a))?null:e}});
//# sourceMappingURL=page.BGCPTdjK.js.map
