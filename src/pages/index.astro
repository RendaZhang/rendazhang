---
import { BaseLayout } from '../layouts';
import { AboutContent } from '../components/sections';
import '../styles/about.css';
import '../styles/social-icons.css';
import {
  SITE_BASE_URL,
  PAGE_TITLES,
  SITE_DESCRIPTION_EN,
  SITE_DESCRIPTION_ZH,
  HOME_PAGE_PATH,
  STYLE_PATHS
} from '../config.js';
import { getCurrentLang } from '../utils';

const langDefault = getCurrentLang();
const langKey = langDefault.startsWith('zh') ? 'zh' : 'en';
const title = langKey === 'zh' ? PAGE_TITLES.ABOUT_ZH : PAGE_TITLES.ABOUT_EN;
const description = langKey === 'zh' ? SITE_DESCRIPTION_ZH : SITE_DESCRIPTION_EN;
---

<BaseLayout
  lang={langDefault}
  title={title}
  description={description}
  canonical={`${SITE_BASE_URL}${HOME_PAGE_PATH}`}
  preloadStyles={[STYLE_PATHS.CHAT_WIDGET]}
  extraStyles={[STYLE_PATHS.CHAT_WIDGET]}
>
  <AboutContent client:load />
</BaseLayout>
